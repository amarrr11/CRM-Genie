{"version":3,"sources":["components/Login.js","components/Dashboard.js","components/AdminDashboard.js","App.js","index.js"],"names":["Login","_jsx","className","children","_jsxs","onClick","handleGoogleLogin","window","location","href","viewBox","fill","d","Dashboard","_ref","user","onLogout","orders","setOrders","useState","newOrderAmount","setNewOrderAmount","loading","setLoading","useEffect","fetchOrders","async","response","axios","get","data","error","console","name","total_spend","visits","length","onSubmit","e","preventDefault","alert","post","spend","parseFloat","htmlFor","type","id","value","onChange","target","placeholder","min","step","required","disabled","map","order","Date","order_date","toLocaleDateString","year","month","day","hour","minute","AdminDashboard","activeTab","setActiveTab","queryInput","setQueryInput","queryResult","setQueryResult","campaigns","setCampaigns","emailList","setEmailList","emailSubject","setEmailSubject","emailMessage","setEmailMessage","fetchCampaigns","concat","trim","query","message","rows","count","excel_file","downloadExcel","filename","split","replace","open","results","Object","keys","key","slice","row","index","values","i","campaign","query_text","result_count","created_at","emails","email","filter","subject","defaults","withCredentials","App","setUser","checkAuthStatus","log","handleLogout","Router","Routes","Route","path","element","Navigate","to","is_admin","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.ab453c52.chunk.js","sourcesContent":["import React from 'react';\nimport '../styles/Login.css';\n\nconst Login = () => {\n  const handleGoogleLogin = () => {\n    window.location.href = '/auth/google';\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-card\">\n        <div className=\"login-header\">\n          <h1>AI-Powered CRM</h1>\n          <p>Welcome to your intelligent customer management system</p>\n        </div>\n        \n        <div className=\"login-content\">\n          <div className=\"feature-list\">\n            <div className=\"feature-item\">\n              <span className=\"feature-icon\">ðŸ¤–</span>\n              <span>AI-Powered Analytics</span>\n            </div>\n            <div className=\"feature-item\">\n              <span className=\"feature-icon\">ðŸ“Š</span>\n              <span>Smart Campaign Management</span>\n            </div>\n            <div className=\"feature-item\">\n              <span className=\"feature-icon\">ðŸ“§</span>\n              <span>Automated Email Marketing</span>\n            </div>\n            <div className=\"feature-item\">\n              <span className=\"feature-icon\">ðŸ“ˆ</span>\n              <span>Customer Insights</span>\n            </div>\n          </div>\n          \n          <button className=\"google-login-btn\" onClick={handleGoogleLogin}>\n            <svg className=\"google-icon\" viewBox=\"0 0 24 24\">\n              <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n              <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n              <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n              <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n            </svg>\n            Continue with Google\n          </button>\n          \n          <div className=\"security-note\">\n            <p>ðŸ”’ Secure authentication powered by Google OAuth</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../styles/Dashboard.css';\n\nconst Dashboard = ({ user, onLogout }) => {\n  const [orders, setOrders] = useState([]);\n  const [newOrderAmount, setNewOrderAmount] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    try {\n      const response = await axios.get('/api/orders');\n      setOrders(response.data);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n\n  const handleCreateOrder = async (e) => {\n    e.preventDefault();\n    if (!newOrderAmount || newOrderAmount <= 0) {\n      alert('Please enter a valid amount');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await axios.post('/api/orders', { spend: parseFloat(newOrderAmount) });\n      setNewOrderAmount('');\n      fetchOrders();\n      alert('Order created successfully!');\n    } catch (error) {\n      console.error('Error creating order:', error);\n      alert('Failed to create order');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <header className=\"dashboard-header\">\n        <div className=\"header-content\">\n          <div className=\"user-info\">\n            <h1>Welcome, {user.name}!</h1>\n            <p>Customer Dashboard</p>\n          </div>\n          <button className=\"logout-btn\" onClick={onLogout}>\n            Logout\n          </button>\n        </div>\n      </header>\n\n      <div className=\"dashboard-content\">\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">ðŸ’°</div>\n            <div className=\"stat-info\">\n              <h3>Total Spent</h3>\n              <p className=\"stat-value\">â‚¹{user.total_spend || 0}</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">ðŸ”„</div>\n            <div className=\"stat-info\">\n              <h3>Total Visits</h3>\n              <p className=\"stat-value\">{user.visits || 0}</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">ðŸ“¦</div>\n            <div className=\"stat-info\">\n              <h3>Total Orders</h3>\n              <p className=\"stat-value\">{orders.length}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"main-content\">\n          <div className=\"create-order-section\">\n            <h2>Create New Order</h2>\n            <form onSubmit={handleCreateOrder} className=\"order-form\">\n              <div className=\"form-group\">\n                <label htmlFor=\"amount\">Order Amount (â‚¹)</label>\n                <input\n                  type=\"number\"\n                  id=\"amount\"\n                  value={newOrderAmount}\n                  onChange={(e) => setNewOrderAmount(e.target.value)}\n                  placeholder=\"Enter amount\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  required\n                />\n              </div>\n              <button type=\"submit\" disabled={loading} className=\"create-order-btn\">\n                {loading ? 'Creating...' : 'Create Order'}\n              </button>\n            </form>\n          </div>\n\n          <div className=\"orders-section\">\n            <h2>Your Orders</h2>\n            {orders.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>No orders yet. Create your first order above!</p>\n              </div>\n            ) : (\n              <div className=\"orders-list\">\n                {orders.map((order) => (\n                  <div key={order.id} className=\"order-item\">\n                    <div className=\"order-info\">\n                      <div className=\"order-amount\">â‚¹{order.spend}</div>\n                      <div className=\"order-date\">\n                        {new Date(order.order_date).toLocaleDateString('en-IN', {\n                          year: 'numeric',\n                          month: 'long',\n                          day: 'numeric',\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })}\n                      </div>\n                    </div>\n                    <div className=\"order-status\">\n                      <span className=\"status-badge\">Completed</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../styles/AdminDashboard.css';\n\nconst AdminDashboard = ({ user, onLogout }) => {\n  const [activeTab, setActiveTab] = useState('query');\n  const [queryInput, setQueryInput] = useState('');\n  const [queryResult, setQueryResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [campaigns, setCampaigns] = useState([]);\n  const [emailList, setEmailList] = useState('');\n  const [emailSubject, setEmailSubject] = useState('');\n  const [emailMessage, setEmailMessage] = useState('');\n\n  useEffect(() => {\n    if (activeTab === 'campaigns') {\n      fetchCampaigns();\n    }\n  }, [activeTab]);\n\n  const fetchCampaigns = async () => {\n    try {\n      const response = await axios.get('/api/admin/campaigns');\n      setCampaigns(response.data);\n    } catch (error) {\n      console.error('Error fetching campaigns:', error);\n    }\n  };\n\n  const handleQuerySubmit = async (e) => {\n    e.preventDefault();\n    if (!queryInput.trim()) return;\n\n    setLoading(true);\n    try {\n      const response = await axios.post('/api/admin/query', { query: queryInput });\n      setQueryResult(response.data);\n      fetchCampaigns(); // Refresh campaigns\n    } catch (error) {\n      console.error('Error processing query:', error);\n      setQueryResult({ \n        type: 'error', \n        message: 'Failed to process query. Please try again.' \n      });\n    }\n    setLoading(false);\n  };\n\n  const handleSendEmails = async (e) => {\n    e.preventDefault();\n    if (!emailList.trim()) {\n      alert('Please enter email addresses');\n      return;\n    }\n\n    const emails = emailList.split(',').map(email => email.trim()).filter(email => email);\n    \n    setLoading(true);\n    try {\n      const response = await axios.post('/api/send-emails', {\n        emails,\n        subject: emailSubject,\n        message: emailMessage\n      });\n      \n      alert(response.data.message);\n      setEmailList('');\n      setEmailSubject('');\n      setEmailMessage('');\n    } catch (error) {\n      console.error('Error sending emails:', error);\n      alert('Failed to send emails');\n    }\n    setLoading(false);\n  };\n\n  const downloadExcel = (filename) => {\n    window.open(`http://localhost:5002/download-excel/${filename}`, '_blank');\n  };\n\n  return (\n    <div className=\"admin-dashboard\">\n      <header className=\"admin-header\">\n        <div className=\"header-content\">\n          <div className=\"user-info\">\n            <h1>Admin Dashboard</h1>\n            <p>Welcome, {user.name}</p>\n          </div>\n          <button className=\"logout-btn\" onClick={onLogout}>\n            Logout\n          </button>\n        </div>\n      </header>\n\n      <div className=\"admin-content\">\n        <nav className=\"tab-navigation\">\n          <button \n            className={`tab-btn ${activeTab === 'query' ? 'active' : ''}`}\n            onClick={() => setActiveTab('query')}\n          >\n            ðŸ¤– AI Query\n          </button>\n          <button \n            className={`tab-btn ${activeTab === 'campaigns' ? 'active' : ''}`}\n            onClick={() => setActiveTab('campaigns')}\n          >\n            ðŸ“Š Campaign History\n          </button>\n          <button \n            className={`tab-btn ${activeTab === 'email' ? 'active' : ''}`}\n            onClick={() => setActiveTab('email')}\n          >\n            ðŸ“§ Send Emails\n          </button>\n        </nav>\n\n        <div className=\"tab-content\">\n          {activeTab === 'query' && (\n            <div className=\"query-section\">\n              <div className=\"section-header\">\n                <h2>AI-Powered Customer Query</h2>\n                <p>Ask questions about your customers in natural language</p>\n              </div>\n              \n              <form onSubmit={handleQuerySubmit} className=\"query-form\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"query\">Enter your query:</label>\n                  <textarea\n                    id=\"query\"\n                    value={queryInput}\n                    onChange={(e) => setQueryInput(e.target.value)}\n                    placeholder=\"e.g., How many users spend more than â‚¹10,000 and have less than 3 visits?\"\n                    rows=\"4\"\n                    required\n                  />\n                </div>\n                <button type=\"submit\" disabled={loading} className=\"query-btn\">\n                  {loading ? 'Processing...' : 'Run Query'}\n                </button>\n              </form>\n\n              {queryResult && (\n                <div className=\"query-result\">\n                  <h3>Query Result</h3>\n                  {queryResult.type === 'error' ? (\n                    <div className=\"error-message\">\n                      <p>{queryResult.message}</p>\n                    </div>\n                  ) : queryResult.type === 'count' ? (\n                    <div className=\"count-result\">\n                      <div className=\"count-display\">\n                        <span className=\"count-number\">{queryResult.count}</span>\n                        <span className=\"count-label\">Users Found</span>\n                      </div>\n                      <p>{queryResult.message}</p>\n                    </div>\n                  ) : (\n                    <div className=\"data-result\">\n                      <div className=\"result-header\">\n                        <span>Found {queryResult.count} users</span>\n                        {queryResult.excel_file && (\n                          <button \n                            onClick={() => downloadExcel(queryResult.excel_file.split('/')[1].replace('.xlsx', ''))}\n                            className=\"download-btn\"\n                          >\n                            ðŸ“Š Download Excel\n                          </button>\n                        )}\n                      </div>\n                      \n                      {queryResult.results.length > 0 && (\n                        <div className=\"results-table\">\n                          <table>\n                            <thead>\n                              <tr>\n                                {Object.keys(queryResult.results[0]).map(key => (\n                                  <th key={key}>{key}</th>\n                                ))}\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {queryResult.results.slice(0, 10).map((row, index) => (\n                                <tr key={index}>\n                                  {Object.values(row).map((value, i) => (\n                                    <td key={i}>{value}</td>\n                                  ))}\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                          {queryResult.results.length > 10 && (\n                            <p className=\"table-note\">\n                              Showing first 10 results. Download Excel for complete data.\n                            </p>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'campaigns' && (\n            <div className=\"campaigns-section\">\n              <div className=\"section-header\">\n                <h2>Campaign History</h2>\n                <p>Your previous AI queries and campaigns</p>\n              </div>\n              \n              {campaigns.length === 0 ? (\n                <div className=\"empty-state\">\n                  <p>No campaigns yet. Start by running your first AI query!</p>\n                </div>\n              ) : (\n                <div className=\"campaigns-list\">\n                  {campaigns.map((campaign) => (\n                    <div key={campaign.id} className=\"campaign-item\">\n                      <div className=\"campaign-content\">\n                        <div className=\"campaign-query\">\n                          <h4>Query:</h4>\n                          <p>\"{campaign.query_text}\"</p>\n                        </div>\n                        {campaign.result_count && (\n                          <div className=\"campaign-result\">\n                            <span className=\"result-count\">{campaign.result_count} results</span>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"campaign-date\">\n                        {new Date(campaign.created_at).toLocaleDateString('en-IN', {\n                          year: 'numeric',\n                          month: 'short',\n                          day: 'numeric',\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'email' && (\n            <div className=\"email-section\">\n              <div className=\"section-header\">\n                <h2>Send Bulk Emails</h2>\n                <p>Send personalized emails to multiple customers</p>\n              </div>\n              \n              <form onSubmit={handleSendEmails} className=\"email-form\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"emails\">Email Addresses:</label>\n                  <textarea\n                    id=\"emails\"\n                    value={emailList}\n                    onChange={(e) => setEmailList(e.target.value)}\n                    placeholder=\"Enter email addresses separated by commas\"\n                    rows=\"4\"\n                    required\n                  />\n                  <small>Separate multiple emails with commas</small>\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"subject\">Subject:</label>\n                  <input\n                    type=\"text\"\n                    id=\"subject\"\n                    value={emailSubject}\n                    onChange={(e) => setEmailSubject(e.target.value)}\n                    placeholder=\"Email subject\"\n                  />\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"message\">Message:</label>\n                  <textarea\n                    id=\"message\"\n                    value={emailMessage}\n                    onChange={(e) => setEmailMessage(e.target.value)}\n                    placeholder=\"Email message\"\n                    rows=\"6\"\n                  />\n                </div>\n                \n                <button type=\"submit\" disabled={loading} className=\"send-email-btn\">\n                  {loading ? 'Sending...' : 'Send Emails'}\n                </button>\n              </form>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Login from './components/Login';\nimport Dashboard from './components/Dashboard';\nimport AdminDashboard from './components/AdminDashboard';\nimport './App.css';\n\naxios.defaults.withCredentials = true;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    checkAuthStatus();\n  }, []);\n\n  const checkAuthStatus = async () => {\n    try {\n      const response = await axios.get('/auth/user');\n      setUser(response.data);\n    } catch (error) {\n      console.log('Not authenticated');\n    }\n    setLoading(false);\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.post('/auth/logout');\n      setUser(null);\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/login\" \n            element={user ? <Navigate to=\"/\" /> : <Login />} \n          />\n          <Route \n            path=\"/\" \n            element={\n              user ? (\n                user.is_admin ? (\n                  <AdminDashboard user={user} onLogout={handleLogout} />\n                ) : (\n                  <Dashboard user={user} onLogout={handleLogout} />\n                )\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            } \n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './App.css';\r\nimport App from './App';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n); "],"sourceRoot":""}